<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Breedings</title>
  <link rel="stylesheet" href="/static/styles.css" />
  <script>(function(){var t=localStorage.getItem("theme");if(t)document.documentElement.setAttribute("data-theme",t);})();</script>
</head>
<body data-page="breedings">
  <header class="header">
    <div class="brand">
      <h1>Rabbit Ranch</h1>
      <nav class="nav">
        <a href="/dashboard">Dashboard</a>
        <a href="/ranch/animals">Animals</a>
        <a class="active" href="/ranch/breedings">Breedings</a>
        <a href="/ranch/kindlings">Kindlings</a>
        <a href="/ranch/weanings">Weanings</a>
        <a href="/ranch/harvests">Harvests</a>
        <a href="/ranch/sales">Sales</a>
        <a href="/ranch/feed-costs">Feed Costs</a>
        <a href="/ranch/reports">Reports</a>
      </nav>
    </div>
    <div class="header-actions">
            <button id="themeToggle" class="theme-toggle" aria-label="Toggle dark mode" title="Toggle dark mode">ðŸŒ™</button>
      <button id="refreshBtn">Refresh</button>
      <a href="/docs" target="_blank" rel="noopener">API Docs</a>
    </div>
  </header>

  <main class="container">
    <section class="two-col">

      <!-- Left column: create + update forms -->
      <div style="display: grid; gap: 12px;">
        <div class="card">
          <h2>Create Breeding</h2>
          <form id="breedingForm" class="form">
            <label>Doe
              <select id="doeSelect" name="doe_id" required>
                <option value="">Select a doeâ€¦</option>
              </select>
            </label>
            <label>Buck
              <select id="buckSelect" name="buck_id" required>
                <option value="">Select a buckâ€¦</option>
              </select>
            </label>
            <label>Bred Date<input type="date" name="bred_date" required /></label>
            <button type="submit">Save Breeding</button>
          </form>
        </div>

        <div class="card">
          <h2>Update Breeding Result</h2>
          <form id="breedingUpdateForm" class="form">
            <label>Breeding
              <select id="breedingSelect" name="breeding_id" required>
                <option value="">Select breedingâ€¦</option>
              </select>
            </label>
            <label>Result
              <select name="result" required>
                <option value="">Select resultâ€¦</option>
                <option value="pending">Pending</option>
                <option value="successful">Successful</option>
                <option value="missed">Missed</option>
              </select>
            </label>
            <label style="grid-column: 1 / -1;">Notes<input name="notes" placeholder="Optional notes" /></label>
            <button type="submit">Update Result</button>
          </form>
          <div class="hint">
            Use <strong>Missed</strong> for a failed or skipped breeding.
            Use the Kindlings page to record a successful kindling â€” that will automatically mark the breeding <strong>Successful</strong>.
          </div>
        </div>
      </div>

      <!-- Right column: breedings table -->
      <div class="card">
        <div class="card-title">
          <h2>Breedings</h2>
          <div class="actions-row">
            <input id="breedingFilter" class="filter" placeholder="Filter (doe/buck/result)â€¦" />
          </div>
        </div>
        <div class="table-wrap">
          <table id="breedingsTable">
            <thead>
              <tr>
                <th>ID</th>
                <th>Doe</th>
                <th>Buck</th>
                <th>Bred</th>
                <th>Expected</th>
                <th>Result</th>
                <th>Notes</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>

    </section>
  </main>

  <div id="toast" class="toast" hidden></div>
  <script src="/static/app.js"></script>
</body>
</html>
